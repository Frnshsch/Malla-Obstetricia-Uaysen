document.querySelectorAll('.ramo input').forEach(input => {
  input.addEventListener('change', () => {
    updateDependencies();
  });
});

function updateDependencies() {
  document.querySelectorAll('.ramo').forEach(ramo => {
    const depends = ramo.dataset.depends?.split(',').filter(Boolean);
    const input = ramo.querySelector('input');

    if (!depends.length) return;

    const allMet = depends.every(id => {
      const depInput = document.querySelector(`#${id}`);
      return depInput?.checked;
    });

    input.disabled = !allMet;
  });
}

updateDependencies();
